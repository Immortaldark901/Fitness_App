<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BMI Calculator - NutriHealth</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

</head>
<body>
  <div id="navbar-placeholder"></div>

  <div class="bmi-box">
    <h1>BMI Calculator</h1>
    <p>Enter your height and weight to find your Body Mass Index.</p>

    <label for="height">Height (cm)</label>
    <input type="number" id="height" placeholder="e.g. 170" required>

    <label for="weight">Weight (kg)</label>
    <input type="number" id="weight" placeholder="e.g. 65" required>

    <div class="buttons">
      <button class="calc-btn" onclick="calculateBMI()">Calculate</button>
      <button class="reset-btn" onclick="resetBMI()">Reset</button>
    </div>

    <div class="bmi-result" id="bmi-value"></div>
    <div class="bmi-category" id="bmi-category"></div>
  </div>

  <!-- BMI SCALE -->
  <div class="bmi-scale">
    <div class="pointer" id="bmi-pointer"></div>
    <div class="scale-bar">
      <div class="scale-section underweight">Underweight</div>
      <div class="scale-section normal">Normal</div>
      <div class="scale-section overweight">Overweight</div>
      <div class="scale-section obese">Obese</div>
    </div>
    <div class="scale-labels">
      <span>&lt;18.5</span>
      <span>18.5 - 24.9</span>
      <span>25 - 29.9</span>
      <span>&gt;30</span>
    </div>
  </div>

  <script type="module" src="script.js"></script>
  <script>
    function calculateBMI() {
      const height = parseFloat(document.getElementById("height").value);
      const weight = parseFloat(document.getElementById("weight").value);
      const valueDiv = document.getElementById("bmi-value");
      const categoryDiv = document.getElementById("bmi-category");
      const pointer = document.getElementById("bmi-pointer");

      if (!height || !weight || height <= 0 || weight <= 0) {
        valueDiv.style.color = "red";
        valueDiv.textContent = "Invalid input!";
        categoryDiv.textContent = "";
        pointer.style.left = "0%";
        return;
      }

      const bmi = (weight / Math.pow(height / 100, 2)).toFixed(1);
      let category = "", color = "", position = 0;

      if (bmi < 18.5) { category = "Underweight"; color = "#1E90FF"; position = (bmi / 18.5) * 25; }
      else if (bmi < 25) { category = "Normal"; color = "#32CD32"; position = 25 + ((bmi - 18.5) / 6.4) * 25; }
      else if (bmi < 30) { category = "Overweight"; color = "#FFD700"; position = 50 + ((bmi - 25) / 5) * 25; }
      else { category = "Obese"; color = "#FF4500"; position = 75 + Math.min(((bmi - 30) / 10) * 25, 25); }

      valueDiv.textContent = `Your BMI: ${bmi}`;
      valueDiv.style.color = color;
      categoryDiv.textContent = category;
      categoryDiv.style.color = color;

      pointer.style.left = `${position}%`;
    }

    function resetBMI() {
      document.getElementById("height").value = "";
      document.getElementById("weight").value = "";
      document.getElementById("bmi-value").textContent = "";
      document.getElementById("bmi-category").textContent = "";
      document.getElementById("bmi-pointer").style.left = "0%";
    }
  </script>

</body>
</html>
